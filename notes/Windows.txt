
Windows Freeze Bug
  happens on msw-32 and gtk-32 Shoes variants. Started back when we switched
  to a Ruby with native threads. Similar symptoms may not be the same problem
  or solution. 
  
  Windows thinks the app isn't responding to gui events delivered to it.
  
=== Native widget - msw.  code is in shoes/native/windows.c (and app.c and world.c)
  
  windows.c:1331 shoes_native_loop
    This seems to be the code that responds to Windows events.
    it loops until PeekMessage sees WM-QUIT (forever - lifetime of app)
      if PeekMessage doesn't have any events then
        it evals via Ruby a "sleep(0.001)" Presumably that lets other
        Ruby threads run while this one sleeps for a 1msec
      if PeekMessage did find a windows event (msg) then depending on
        mouse move or keypress it may process the event in Shoes - I suspect
        this is mostly for tab key focus, changing cursor, and dialog issues.
        and it tells the loop that the msg has been handled;
        if still not handled then 
          TranslateMessage(&msgs);
          DispatchMessage(&msgs);
      End of loop
      
  Presumably that Translate and Dispatch calls other Shoes code. Indeed
  it calls windows procs attached to the specific window or dialog or ctl?
  
  There's something suspicious above.  Clearly it works for while.
  Ian reports that the eval is not needed on his system.
  
  Does ruby_init() 'capture' or Rubyize the calling (gui) thread? If it
  does now (but not back then) that might explain  'something' as in sleeps
  but 
 
 === Gtk 
   Shoes cranks the one core 100% while the app do nothing with a little
   bit of time to the ruby threads
   
   Gtk requires a window implementation of pthreads, winpthread.dll
   Ruby does not use pthreads on windows (it used have a build option for
   pthreads but I'm not sure it ever worked on windows and it's not 
   available now).
   
   Ruby Windows also goes through quite a dance to implement fd that can
   be waited on. Gtk/win must do something similar.
   Shoes (Gtk linux/win) uses those fd and attempts to may Rub
   
   
  
